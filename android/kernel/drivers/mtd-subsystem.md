# 3.11.04 MTD子系统

2017-02-20

---------------

内存技术存储（Memory Technology Device, MTD）子系统的目的是让内核支持种类繁多的类似内存的设备，比如闪存芯片。

MTD是一个设备驱动程序层，它提供了一套访问原始闪存设备的通用API接口。MTD支持很多种闪存设备，然而，MTD不是块设备，MTD与设备打交道时是以擦除块(earse block)为单位的，其大小不一，而块设备是以固定大小的块(称为扇区)为操作单位的。块设备有两种主要操作：读取扇区和写入扇区，而MTD有3种：读、写和擦除。MTD设备的写寿命是有限的，所以MTD会包含内部逻辑将写操作分不开来以延长设备的寿命，这被称为耗损均衡。

与通常的想法相反，SD/MMC卡、CompactFlash卡、USB闪存盘以及其他一些类似的设备都不属于MTD设备。这些设备的内部都包含了闪存转换层，用于完成类似MTD的功能(块擦除/耗损均衡)，因此对于系统来说，它们看上去就像是传统的块设备，而不是经过MTD的特殊处理。

值得注意的是：**MTD既不是字符设备，也不是块设备。**

